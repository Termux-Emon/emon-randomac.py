import base64
exec(base64.b64decode("aW1wb3J0IG9zDQppbXBvcnQgc3lzDQppbXBvcnQgdGltZQ0KaW1wb3J0IHJlcXVlc3RzDQppbXBvcnQgdXVpZA0KdHJ5Og0KICAgICAgICBpbXBvcnQgb3MscmVxdWVzdHMsanNvbix0aW1lLHJlLHJhbmRvbSxzeXMsdXVpZCxzdHJpbmcsc3VicHJvY2Vzcw0KICAgICAgICBmcm9tIHN0cmluZyBpbXBvcnQgKg0KICAgICAgICBmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRyZWQNCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOg0KICAgICAgICBwcmludCgnXG4gSW5zdGFsbGluZyBtaXNzaW5nIG1vZHVsZXMgLi4uJykNCiAgICAgICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByZXF1ZXN0cyBmdXR1cmVzPT0yID4gL2Rldi9udWxsJykNCg0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgc29wDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cA0KaW1wb3J0IHJlcXVlc3RzIGFzIHJlc3MNCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGUNCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lDQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwDQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwIGFzIHdha3R1DQp0cnk6DQogICAgaW1wb3J0IHJlcXVlc3RzDQogICAgZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyBUaHJlYWRQb29sDQogICAgaW1wb3J0IG1lY2hhbml6ZQ0KICAgIGZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yDQpleGNlcHQgTW9kdWxlTm90Rm91bmRFcnJvcjoNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIG1lY2hhbml6ZSByZXF1ZXN0cyBmdXR1cmVzIGJzND09MiA+IC9kZXYvbnVsbCcpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQnKQ0KaW1wb3J0IHJlcXVlc3RzLGJzNCxqc29uLG9zLHN5cyxyYW5kb20sZGF0ZXRpbWUsdGltZSxyZQ0KaW1wb3J0IHVybGxpYjMscmljaCxiYXNlNjQNCmltcG9ydCByZXF1ZXN0cyx6bGliLHBsYXRmb3JtDQpmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlIGFzIG1lDQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgQ29uc29sZSBhcyBzb2wNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHNvcA0KZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyB0cmVkDQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgR3JvdXAgYXMgZ3ANCmZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwgYXMgbmVsDQpmcm9tIHJpY2ggaW1wb3J0IHByaW50IGFzIGNldGFrDQpmcm9tIHJpY2gubWFya2Rvd24gaW1wb3J0IE1hcmtkb3duIGFzIG1hcmsNCmZyb20gcmljaC5jb2x1bW5zIGltcG9ydCBDb2x1bW5zIGFzIGNvbA0KZnJvbSByaWNoIGltcG9ydCBwcmludCBhcyBycHJpbnQNCmZyb20gcmljaCBpbXBvcnQgcHJldHR5DQpmcm9tIHJpY2gudGV4dCBpbXBvcnQgVGV4dCBhcyB0ZWt6DQpwcmV0dHkuaW5zdGFsbCgpDQpDT049c29sKCkNCnVnZW4yPVtdDQp1Z2VuPVtdDQpjb2ticnV0PVtdDQpzZXM9cmVxdWVzdHMuU2Vzc2lvbigpDQpwcmluY3A9W10NCmNsYXNzIGphbGFuOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCB6KToNCiAgICAgICAgZm9yIGUgaW4geiArICJcbiI6DQogICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wOSkNClAgPSAnXHgxYlsxOzk3bScNCk0gPSAnXHgxYlsxOzkxbScNCkggPSAnXHgxYlsxOzkybScNCksgPSAnXHgxYlsxOzkzbScNCkIgPSAnXHgxYlsxOzk0bScNClUgPSAnXHgxYlsxOzk1bScgDQpPID0gJ1x4MWJbMTs5Nm0nDQpOID0gJ1x4MWJbMG0nICAgIA0KWiA9ICJcMDMzWzE7MzBtIg0Kc2lyID0gJ1wwMzNbNDFtXHgxYlsxOzk3bScNCnggPSAnXDMzW20nICMgREVGQVVMVA0KbSA9ICdceDFiWzE7OTFtJyAjUkVEICsNCmsgPSAnXDAzM1s5M20nICMgS1VOSU5HICsNCnhyID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUgKw0KaGggPSAnXDAzM1szMm0nICMgSElKQVUgLQ0KdSA9ICdcMDMzWzk1bScgIyBVTkdVDQprayA9ICdcMDMzWzMzbScgIyBLVU5JTkcgLQ0KYiA9ICdcMzNbMTs5Nm0nICMgQklSVSAtDQpwID0gJ1x4MWJbMDszNG0nICMgQklSVSArDQpSRUQgPSAnXDAzM1sxOzkxbScNCldISVRFID0gJ1wwMzNbMTs5N20nDQpHUkVFTiA9ICdcMDMzWzE7MzJtJyAjDQpZRUxMT1cgPSAnXDAzM1sxOzMzbScNCkJMVUUgPSAnXDAzM1sxOzM0bScNCk9SQU5HRSA9ICdcMDMzWzE7MzVtJw0KUCA9ICdceDFiWzE7OTdtJyAjIFBVVElIDQpNID0gJ1x4MWJbMTs5MW0nICMgTUVSQUgNCkggPSAnXHgxYlsxOzkybScgIyBISUpBVQ0KSyA9ICdceDFiWzE7OTNtJyAjIEtVTklORw0KQiA9ICdceDFiWzE7OTRtJyAjIEJJUlUNClUgPSAnXHgxYlsxOzk1bScgIyBVTkdVDQpPID0gJ1x4MWJbMTs5Nm0nICMgQklSVSBNVURBDQpOID0gJ1x4MWJbMG0nICAgICMgV0FSTkEgTUFUSQ0KQSA9ICdceDFiWzE7OTBtJyAjIFdBUk5BIEFCVSBBQlUNCkJOID0gJ1x4MWJbMTsxMDdtJyAjIEJFTEFLQU5HIFBVVElIDQpCQkwgPSAnXHgxYlsxOzEwNm0nICMgQkVMQUtBTkcgQklSVSBMQU5HSVQNCkJQID0gJ1x4MWJbMTsxMDVtJyAjIEJFTEFLQU5HIFBJTksNCkJCID0gJ1x4MWJbMTsxMDRtJyAjIEJFTEFLQU5HIEJJUlUNCkJLID0gJ1x4MWJbMTsxMDNtJyAjIEJFTEFLQU5HIEtVTklORw0KQkggPSAnXHgxYlsxOzEwMm0nICMgQkVMQUtBTkcgSElKQVUNCkJNID0gJ1x4MWJbMTsxMDFtJyAjIEJFTEFKQU5HIE1FUkFIDQpCQSA9ICdceDFiWzE7MTAwbScgIyBCRUxBS0FORyBBQlUgQUJVDQpteV9jb2xvciA9IFsNCiBQLCBNLCBILCBLLCBCLCBVLCBPLCBOXQ0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0Kd2FybmExID0gcmFuZG9tLmNob2ljZShteV9jb2xvcikNCndhcm5hMiA9IHJhbmRvbS5jaG9pY2UobXlfY29sb3IpDQp3YXJuYTMgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0Kd2FybmE0ID0gcmFuZG9tLmNob2ljZShteV9jb2xvcikNCndhcm5hNSA9IHJhbmRvbS5jaG9pY2UobXlfY29sb3IpDQp3YXJuYTYgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0KZ3kgPSBbWUVMTE9XLEdSRUVOXQ0KZ3ljID0gcmFuZG9tLmNob2ljZShneSkNCmRlZiB0YWh1bm5nKGZ4KToNCglpZiBsZW4oZngpPT0xNToNCgkJaWYgZnhbOjEwXSBpbiBbJzEwMDAwMDAwMDAnXSAgICAgICA6dGFodW56ID0gJzIwMDknDQoJCWVsaWYgZnhbOjldIGluIFsnMTAwMDAwMDAwJ10gICAgICAgOnRhaHVueiA9ICcyMDA5Jw0KCQllbGlmIGZ4Wzo4XSBpbiBbJzEwMDAwMDAwJ10gICAgICAgIDp0YWh1bnogPSAnMjAwOScNCgkJZWxpZiBmeFs6N10gaW4gWycxMDAwMDAwJywnMTAwMDAwMScsJzEwMDAwMDInLCcxMDAwMDAzJywnMTAwMDAwNCcsJzEwMDAwMDUnXTp0YWh1bnogPSAnMjAwOScNCgkJZWxpZiBmeFs6N10gaW4gWycxMDAwMDA2JywnMTAwMDAwNycsJzEwMDAwMDgnLCcxMDAwMDA5J106dGFodW56ID0gJzIwMTAnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDAxJ10gICAgICAgICAgOnRhaHVueiA9ICcyMDEwLTIwMTEnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDAyJywnMTAwMDAzJ10gOnRhaHVueiA9ICcyMDExLTIwMTInDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA0J10gICAgICAgICAgOnRhaHVueiA9ICcyMDEyLTIwMTMnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA1JywnMTAwMDA2J10gOnRhaHVueiA9ICcyMDEzLTIwMTQnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA3JywnMTAwMDA4J10gOnRhaHVueiA9ICcyMDE0LTIwMTUnDQoJCWVsaWYgZnhbOjZdIGluIFsnMTAwMDA5J10gICAgICAgICAgOnRhaHVueiA9ICcyMDE1Jw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDAxJ10gICAgICAgICAgIDp0YWh1bnogPSAnMjAxNS0yMDE2Jw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDAyJ10gICAgICAgICAgIDp0YWh1bnogPSAnMjAxNi0yMDE3Jw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDAzJ10gICAgICAgICAgIDp0YWh1bnogPSAnMjAxOCcNCgkJZWxpZiBmeFs6NV0gaW4gWycxMDAwNCddICAgICAgICAgICA6dGFodW56ID0gJzIwMTknDQoJCWVsaWYgZnhbOjVdIGluIFsnMTAwMDUnXSAgICAgICAgICAgOnRhaHVueiA9ICcyMDIwJw0KCQllbGlmIGZ4Wzo1XSBpbiBbJzEwMDA2JywnMTAwMDcnLCcxMDAwOCddOnRhaHVueiA9ICcyMDIxLTIwMjInDQoJCWVsc2U6dGFodW56PScnDQoJZWxpZiBsZW4oZngpIGluIFs5LDEwXToNCgkJdGFodW56ID0gJzIwMDgtMjAwOScNCgllbGlmIGxlbihmeCk9PTg6DQoJCXRhaHVueiA9ICcyMDA3LTIwMDgnDQoJZWxpZiBsZW4oZngpPT03Og0KCQl0YWh1bnogPSAnMjAwNi0yMDA3Jw0KCWVsc2U6dGFodW56PScnDQoJcmV0dXJuIHRhaHVueg0KZGVmIGFsdmlub194eSh1KToNCiAgICAgICAgZm9yIGUgaW4gdSArICJcbiI6c3lzLnN0ZG91dC53cml0ZShlKTtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwNSkNCmRlZiBzYXdyb2pqKHUpOg0KICAgICAgICBmb3IgZSBpbiB1ICsgIlxuIjpzeXMuc3Rkb3V0LndyaXRlKGUpO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDEpDQppZCxpZDIsbG9vcCxvayxjcCxha3VuLG9wcmVrLG1ldGhvZCxsaXNlbnNpa3UsdGFwbGlrYXNpLHRva2Vua3UsdWlkLGxpc2Vuc2lrdW5pPSBbXSxbXSwwLDAsMCxbXSxbXSxbXSxbXSxbXSxbXSxbXSxbXQ0KY29rYnJ1dD1bXQ0KcHdwbHVzcyxwd255YT1bXSxbXQ0KZGljID0geycxJzonSmFudWFyeScsJzInOidGZWJydWFyeScsJzMnOidNYXJjaCcsJzQnOidBcHJpbCcsJzUnOidNYXknLCc2JzonSnVuZScsJzcnOidKdWx5JywnOCc6J0F1Z3VzdCcsJzknOidTZXB0ZW1iZXInLCcxMCc6J09jdG9iZXInLCcxMSc6J05vdmVtYmVyJywnMTInOidEZWNlbWJlcid9DQpkaWMyID0geycwMSc6J0phbnVhcnknLCcwMic6J0ZlYnJ1YXJ5JywnMDMnOidNYXJjaCcsJzA0JzonQXByaWwnLCcwNSc6J01heScsJzA2JzonSnVuZScsJzA3JzonSnVseScsJzA4JzonQXVndXN0JywnMDknOidTZXB0ZW1iZXInLCcxMCc6J09jdG9iZXInLCcxMSc6J05vdmVtYmVyJywnMTInOidEZXZlbWJlcid9DQp0Z2wgPSBkYXRldGltZS5kYXRldGltZS5ub3coKS5kYXkNCmJsbiA9IGRpY1soc3RyKGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLm1vbnRoKSldDQp0aG4gPSBkYXRldGltZS5kYXRldGltZS5ub3coKS55ZWFyDQpva2MgPSAnT0stJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0Jw0KY3BjID0gJ0NQLScrc3RyKHRnbCkrJy0nK3N0cihibG4pKyctJytzdHIodGhuKSsnLnR4dCcNCnRyeToNCglwcm94PSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS92Mi8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm90b2NvbD1zb2NrczQmdGltZW91dD0xMDAwMDAmY291bnRyeT1hbGwmc3NsPWFsbCZhbm9ueW1pdHk9YWxsJykudGV4dA0KCW9wZW4oJy5wcm94LnR4dCcsJ3cnKS53cml0ZShwcm94KQ0KCSNvcy5zeXN0ZW0oJ2dpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vSGFubmFuLTQwNC9GSUxFJykNCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCglwcmludCgnW1tceDFiWzE7OTJtw6LigqzColx4MWJbMTs5N21dIFtceDFiWzE7OTZtS0FWSScpDQpwcm94PW9wZW4oJy5wcm94LnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQoNCmRlZiB1aWQobmFtKToNCgl1aWQxID0gc3RyKG9zLmdldGV1aWQoKSkgKyBzdHIob3MuZ2V0bG9naW4oKSkudXBwZXIoKQ0KCXRyeToNCgkJa2V5MSA9IG9wZW4oJy9kYXRhL2RhdGEvY29tLnRlcm11eC9maWxlcy91c3IvZXRjL3VpZHRlcm11eCcsICdyJykucmVhZCgpDQoJZXhjZXB0Og0KCQlrb2s9b3BlbignL2RhdGEvZGF0YS9jb20udGVybXV4L2ZpbGVzL3Vzci9ldGMvdWlkdGVybXV4JywgJ3cnKQ0KCQlrb2sud3JpdGUodWlkLG5hbSkNCgkJa29rLmNsb3NlKCkNCglib3R1aWQoKQ0KZGVmIGJvdHVpZCgpOg0KCWtleTIgPSBvcGVuKCcvZGF0YS9kYXRhL2NvbS50ZXJtdXgvZmlsZXMvdXNyL2V0Yy91aWR0ZXJtdXgnLCAncicpLnJlYWQoKQ0KCWJvdF90b2tlbiA9ICc2MDIzNDU5MTc3OkFBSEdBLVMwZzIzMGdrbHJ4eWc3bjB2VEZQSjhSSTFEcTM0Jw0KCWNoYXRfaWQgPSAnMTgxODYwNjM1OCcNCgltZXNzYWdlID0ga2V5Mg0KCXVybCA9IGYnaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHtib3RfdG9rZW59L3NlbmRNZXNzYWdlJw0KCWRhdGEgPSB7J2NoYXRfaWQnOiBjaGF0X2lkLCAndGV4dCc6IG1lc3NhZ2V9DQoJcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHVybCwganNvbj1kYXRhKSAgICAgICAgDQoJDQpkZWYgbG8od29yZCk6DQogICAgaGVyb24gPSBbIltceDFiWzE7OTFt4pagXHgxYlswbeKWoeKWoeKWoeKWoeKWoeKWoeKWoeKWoeKWoV0iLCJbXHgxYlsxOzkybeKWoOKWoFx4MWJbMG3ilqHilqHilqHilqHilqHilqHilqHilqFdIiwgIltceDFiWzE7OTNt4pag4pag4pagXHgxYlswbeKWoeKWoeKWoeKWoeKWoeKWoeKWoV0iLCAiW1x4MWJbMTs5NG3ilqDilqDilqDilqBceDFiWzBt4pah4pah4pah4pah4pah4pahXSIsICJbXHgxYlsxOzk1beKWoOKWoOKWoOKWoOKWoFx4MWJbMG3ilqHilqHilqHilqHilqFdIiwgIltceDFiWzE7OTZt4pag4pag4pag4pag4pag4pagXHgxYlswbeKWoeKWoeKWoeKWoV0iLCAiW1x4MWJbMTs5N23ilqDilqDilqDilqDilqDilqDilqBceDFiWzBt4pah4pah4pahXSIsICJbXHgxYlsxOzk4beKWoOKWoOKWoOKWoOKWoOKWoOKWoOKWoFx4MWJbMG3ilqHilqFdIiwgIltceDFiWzE7OTlt4pag4pag4pag4pag4pag4pag4pag4pag4pagXHgxYlswbeKWoV0iLCAiW1x4MWJbMTs5MTBt4pag4pag4pag4pag4pag4pag4pag4pag4pag4pagXHgxYlswbV0iXQ0KICAgIGZvciBpIGluIHJhbmdlKDcpOg0KICAgICAgICBmb3IgeCBpbiByYW5nZShsZW4oaGVyb24pKToNCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoKCdccnt9e30nKS5mb3JtYXQoc3RyKHdvcmQpLCBoZXJvblt4XSkpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMSkNCiAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KCQ0KDQpkZWYgY2VrX2FwayhzZXNzaW9uLGNva2kpOg0KCXc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQNCglzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikNCgl4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpDQoJZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0NCglpZiBsZW4oZ2FtZSk9PTA6DQoJCXByaW50KGYiXHJ7Tn1be019IXtOfV0gU09SUlkgVEhFUkUgSVMgTk8gQUNUSVZFIEFQSyIpDQoJZWxzZToNCgkJcHJpbnQoIiIpDQoJCXByaW50KGYnXHJ7c299WU9VUiBBQ1RJVkUgQVBQTElDQVRJT04gREVUQUlMUyA6JyUoSCkpDQoJCWZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6DQoJCQlwcmludCgiJXMlcy4gJXMlcyIlKEgsaSsxLGdhbWVbaV0ucmVwbGFjZSgiQUNUSVZFIiwiIEFDVElWRSIpLE4pKQ0KCXc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KCXNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KCXggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCglnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KCWlmIGxlbihnYW1lKT09MDoNCgkJcHJpbnQoZiJccntOfVt7TX0he059XSBTT1JSWSBUSEVSRSBJUyBOTyBFWFBJUkVEIEFQSyIpDQoJZWxzZToNCgkJcHJpbnQoZidcciDDsMW4xb3CriAlc1lPVVIgRVhQSVJFRCBBUFBMSUNBVElPTiBERVRBSUxTIDonJShNKSkNCgkJZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCgkJCXByaW50KCIlcyVzLiAlcyVzIiUoSyxpKzEsZ2FtZVtpXS5yZXBsYWNlKCJFeHBpcmVkIiwiIEV4cGlyZWQiKSxOKSkNCg0KdWdlbj1bXQ0KZm9yIHhkIGluIHJhbmdlKDEwMDAwKToNCiAgICBhYT0nTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDExOycNCiAgICBiPXJhbmRvbS5jaG9pY2UoWyc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJ10pDQogICAgYz0nZnItZnI7IFJlZG1pIE5vdGUgMTEgQnVpbGQvJw0KICAgIGQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQogICAgZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkNCiAgICBmPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vJw0KICAgIGg9cmFuZG9tLnJhbmRyYW5nZSg3MywxMDApDQogICAgaT0nMCcNCiAgICBqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQ0KICAgIGs9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApDQogICAgbD0nIENocm9tZS84OS4wLjQzODkuMTE2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IFhpYW9NaS9NaXVpQnJvd3Nlci8xMi4yMi4wLjMtZ24nDQogICAgdWFrdTI9Zid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9Jw0KICAgIHVnZW4uYXBwZW5kKHVha3UyKQ0KI01vemlsbGEvNS4wIChMaW51eDsgVTsgQW5kcm9pZCAxMTsgZnItZnI7IFJlZG1pIE5vdGUgMTEgQnVpbGQvUktRMS4yMTEwMDEuMDAxKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODkuMC40Mzg5LjExNiBNb2JpbGUgU2FmYXJpLzUzNy4zNiBYaWFvTWkvTWl1aUJyb3dzZXIvMTIuMjIuMC4zLWduDQojTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEzOyBSZWRtaSBOb3RlIDEwIFBybykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEwNy4wLjAuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNg0KICAgIGFhPSdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTM7Jw0KICAgIGI9cmFuZG9tLmNob2ljZShbJzcuMCcsJzguMS4wJywnOScsJzEwJywnMTEnLCcxMiddKQ0KICAgIGM9cmFuZG9tLmNob2ljZShbJ1JlZG1pIE5vdGUgMTAgUHJvJ10pDQogICAgZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBlPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOTk5KQ0KICAgIGY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQogICAgZz0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbyknDQogICAgaD1yYW5kb20ucmFuZHJhbmdlKDgwLDEwMykNCiAgICBpPScwJw0KICAgIGo9cmFuZG9tLnJhbmRyYW5nZSg0MjAwLDQ5MDApDQogICAgaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkNCiAgICBsPSdDaHJvbWUvMTA3LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2Jw0KICAgIHVha3UyPWYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScNCiAgICB1Z2VuLmFwcGVuZCh1YWt1MikNCiAgICANCiAgICANCiAgICBhYT0nTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOycNCiAgICBiPXJhbmRvbS5jaG9pY2UoWyc3LjAnLCc4LjEuMCcsJzknLCcxMCcsJzExJywnMTInXSkNCiAgICBjPXJhbmRvbS5jaG9pY2UoWydSZWRtaSBOb3RlIDEwIFBybyddKQ0KICAgIGQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pDQogICAgZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkNCiAgICBmPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pJw0KICAgIGg9cmFuZG9tLnJhbmRyYW5nZSg4MCwxMDMpDQogICAgaT0nMCcNCiAgICBqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQ0KICAgIGs9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApDQogICAgbD0nQ2hyb21lLzEwNy4wLjAuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNicNCiAgICB1YWt1Mj1mJ3thYX0ge2J9OyB7Y317ZH17ZX17Zn0pIHtnfXtofS57aX0ue2p9LntrfSB7bH0nDQogICAgdWdlbi5hcHBlbmQodWFrdTIpDQoJDQogICAgYWE9J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsnDQogICAgYj1yYW5kb20uY2hvaWNlKFsnNy4wJywnOC4xLjAnLCc5JywnMTAnLCcxMScsJzEyJ10pDQogICAgYz1yYW5kb20uY2hvaWNlKFsnUmVkbWkgTm90ZSAxMCBQcm8nXSkNCiAgICBkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGU9cmFuZG9tLnJhbmRyYW5nZSgxLCA5OTkpDQogICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKScNCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoODAsMTAzKQ0KICAgIGk9JzAnDQogICAgaj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkNCiAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQ0KICAgIGw9J0Nocm9tZS8xMDcuMC4wLjAgTW9iaWxlIFNhZmFyaS81MzcuMzYnDQogICAgdWFrdTI9Zid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9Jw0KICAgIHVnZW4uYXBwZW5kKHVha3UyKQ0KDQoNCg0KDQoNCmxvZ28gPSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgiIiIgICANCuKUjOKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkQ0K4pSDDQogICANClwwMzNbMTs5MW0gIEVFRUVFRUUgTU0gICAgTU0gIE9PT09PICBOTiAgIE5OIA0KXDAzM1sxOzkybSBFRSAgICAgIE1NTSAgTU1NIE9PICAgT08gTk5OICBOTiANClwwMzNbMTs5M20gRUVFRUUgICBNTSBNTSBNTSBPTyAgIE9PIE5OIE4gTk4gDQpcMDMzWzE7OTFtIEVFICAgICAgTU0gICAgTU0gT08gICBPTyBOTiAgTk5OIA0KXDAzM1sxOzkybSBFRUVFRUVFIE1NICAgIE1NICBPT09PMCAgTk4gICBOTiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgDQrilIMNCuKUlOKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUmA0KICAgICAg4pSM4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBIEVNb24g4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSRDQogICAgICAgICAgICAgICAaXDAzM1sxOzk3bUNSRUFURUQgQlkgICA6ICBFTW9uLUJIYWkg4p2k77iPICAgICAgICAgICAgDQogICAgICAgICAgICAgICAaXDAzM1sxOzkxbUZBQ0VCT0sgICAgICA6ICBFTU9OIEhBV0xBREFSICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgIBpcMDMzWzE7OTdtR0lUSFVCICAgICAgIDogIFRFUk1VWC1FTU9OICAgICAgIA0KICAgICAgICAaICAgICAgIFwwMzNbMTs5MW1TVEFUVVMgICAgICAgOiAgIFBBSUTwn5i0ICAgICAgICAgICAgDQogICAgICAgICAgICAgICAaXDAzM1sxOzk3bVRFQU0gICAgICAgICA6ICBBTE9ORSAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICBcMDMzWzE7OTFtVE9PTCBWSVJTSU9OIDogIDIuMDkgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAaICAgICAgIFwwMzNbMTs5N21UT09MIFdPUksgICAgOiAgT05MWSAgREFUQSAgICAgICAgICAgDQogICAgICDilJTilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIEgSDRDS0VSIOKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUmA0KIiIiKQ0KDQoNCnVzZXIgPSBbXQ0Kc28gPSAnfjp+Jw0KbG9vcCA9IDANCm9rcyA9IFtdDQpjcHMgPSBbXQ0KcGNwPVtdDQoNCmRlZiBjbGVhcigpOg0KCW9zLnN5c3RlbSgnY2xlYXInKQ0KCXByaW50KGxvZ28pDQoJDQpkZWYgYXBwcm92YWwoKToNCiAgb3Muc3lzdGVtKCdjbGVhcicpDQogIHByaW50KGxvZ28pDQogIHV1aWQgPSBzdHIob3MuZ2V0ZXVpZCgpKSArIHN0cihvcy5nZXRsb2dpbigpKQ0KICBpZCA9ICItIi5qb2luKHV1aWQpDQogIHRyeToNCiAgICBodHRwQ2FodCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1Rlcm11eC1FbW9uL2Vtb24tcmFuZG9tYWMucHkvbWFpbi9hcHByb3ZlZC50eHQnKS50ZXh0DQogICAgaWYgaWQgaW4gaHR0cENhaHQ6DQogICAgICBwcmludCgiXDMzWzE7MzJtWW91ciBUb2tlbiBpcyBTdWNjZXNzZnVsbHkgQXBwcm92ZWQiKQ0KICAgICAgbXNnID0gc3RyKG9zLmdldGV1aWQoKSkNCiAgICAgIHRpbWUuc2xlZXAoMC41KQ0KICAgICAgbWVudSgpDQogICAgICBtZW51MSgpDQogICAgICBwYXNzDQogICAgZWxzZToNCiAgICAgIHByaW50KCJZb3VyIFRva2VuIDogIitpZCkNCiAgICAgIHByaW50KCdcMzNbMTszN20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCiAgICAgIHByaW50KCJcMzNbMTszMm1JbXBvcnRhbnQgTm90ZSIpDQogICAgICBwcmludCgiXDMzWzE7MzdtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQogICAgICBwcmludCgiXDMzWzE7MzdtRm9yIDcgRGF5cyBBcHByb3ZhbCBQcmljZSAyMDBUayBPbmUgTW9udGggUHJpY2UgODAwIFRrIikNCiAgICAgIHByaW50KCdCS0FTSCBQRVJTT05BTCAtIGluYm94IGEgZGlibycpDQogICAgICBwcmludCgnU2VuZCBQYXkgQW5kIEdpdmUgU3MgQW5kIFNlbmQgTWUgS2V5IE9yIFNzIE1lIFdoYXRzYXBwJykNCiAgICAgIHByaW50KCdcMzNbMTszN20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCiAgICAgIGlucHV0KCdJRiBVIFdBTlQgVE8gQlVZIFRIRU4gUFJFU1MgRU5URVIgJykNCiAgICAgIHRrcyA9ICgnSGVsbG8lMjBTaXIlMjAhJTIwUGxlYXNlJTIwQXBwcm92ZSUyME15JTIwVG9rZW4lMjBUaGUlMjBUb2tlbiUyMElzJTIwOiUyMCcraWQpO29zLnN5c3RlbSgnYW0gc3RhcnQgaHR0cHM6Ly93YS5tZS8rODgwMTMwOTk5MTcyND90ZXh0PScrdGtzKSxhcHByb3ZhbCgpDQogICAgICB0aW1lLnNsZWVwKDEpDQogICAgICBhcHByb3ZhbCgpDQogIGV4Y2VwdDoNCiAgICBzeXMuZXhpdCgpDQoNCg0KZGVmIG1lbnUoKToNCglvcy5zeXN0ZW0oImNsZWFyIikNCgljbGVhcigpDQoJbG8oIlx0ICAgTE9BRElORyBTWVNURU0iKQ0KCWNsZWFyKCkNCglwcmludCAoIlwwMzNbMTs5N21bMV1cMDMzWzE7MzNtIEZJTEUgQ0xPTklORyAiKQ0KCXByaW50ICgiXDAzM1sxOzk3bVsyXVwwMzNbMTszM20gUkFORE9NIENMT05FSU5HIikNCglwcmludCAoIlwwMzNbMTs5N21bM11cMDMzWzE7MzNtIENSQUNLIEZJTEUiKQ0KCW90ID0gaW5wdXQoJ1xuICAgXHgxYlsxOzMybSBDaG9vc2Ugb3B0aW9uID4+PiAnKQ0KCWlmIG90ID09ICcxJzoNCgkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vVEVSR0VUWU9VUklEJykNCgkJY3JhY2tfZmlsZSgpDQoJCQ0KCWlmIG90ID09ICcyJzoNCgkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vVEVSR0VUWU9VUklEJykNCgkJcm5kbSgpDQoJCQ0KCWlmIG90ID09ICczJzoNCgkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vVEVSR0VUWU9VUklEJykNCgkJDQoJZWxzZToNCgkJbWVudSgpDQoNCmRlZiBtZW51MSgpOg0KCXByaW50IChmInt3YXJuYTZ9IikNCgljbGVhcigpDQoJDQoJbmFtID0gaW5wdXQoIkVudGVyIFlvdXIgTmFtZTogIikNCgl1aWQobmFtKQ0KCWNsZWFyKCkNCglwcmludCAoIlwwMzNbMTs5N20gICAgIFsxXVwwMzNbMTszM20gRklMRSBDTE9OSU5HIikNCglwcmludCAoIlwwMzNbMTs5N20gICAgIFsyXVwwMzNbMTszM20gQkFOR0xBREVTSCBOVU1CRVIiKQ0KCXByaW50ICgiXDAzM1sxOzk3bSAgICAgWzNdXDAzM1sxOzMzbSBNWSBZT1VUVUJFIENIQU5FTCIpDQoJb3QgPSBpbnB1dCgnXG4gICBceDFiWzE7MzJtIENob29zZSBvcHRpb24gPj4+ICcpDQoJaWYgb3QgPT0gJzEnOg0KCQlvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9URVJHRVRZT1VSSUQnKQ0KCQljcmFja19maWxlKCkNCglpZiBvdCA9PSAnMic6DQoJCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL1RFUkdFVFlPVVJJRCcpDQoJCXJuZG0oKQ0KCWlmIG90ID09ICczJzoNCgkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vVEVSR0VUWU9VUklEJykNCg0KCWVsc2U6DQoJCW1lbnUoKQ0KDQpkZWYgcm5kbSgpOg0KCXVzZXI9W10NCglwcmludCAoZiJ7d2FybmExfSIpDQoJY2xlYXIoKQ0KCXByaW50KGd5YykNCglwcmludCAoIiIiKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsNCnwgICAgICAgIEV4YW1wbGU+OiAgICAgICAgICAgICB8DQp8ICAgICAgICAwMTkxLDAxNzIsMDE4MywgICAgICAgfA0KfCAgICAgICAgOTIzMDIsOTIzMDEsOTE3NzggICAgIHwNCistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rDQoiIiIpDQoJY29kID0gaW5wdXQoJ1xuIElOUFVUIFlPVVIgU0lNIENPREU6ICcpDQoJaWYgbGVuKGNvZCkgIT0gNDoNCgkJcHJpbnQoIkluY29ycmVjdCBjb2RlIikNCgllbHNlOg0KCQlwYXNzDQoJcHJpbnQgKGYie3dhcm5hM30iKQ0KCWNsZWFyKCkNCglwcmludChneWMpDQoJbGltaXQgPSBpbnQoaW5wdXQoJyBJTlBVVCBMSU1JVDogJykpDQoJZm9yIG51bSBpbiByYW5nZSAobGltaXQpOg0KCQlubSA9ICcnLmpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg3KSkNCgkJdXNlci5hcHBlbmQobm0pDQoJcHJpbnQgKGYie3dhcm5hNX0iKQ0KCWNsZWFyKCkNCglwcmludChneWMpDQoJcHJpbnQgKCJEbyB5b3Ugd2FudCB0byB1c2UgY3VzdG9tIHBhc3N3b3JkOiB5L24iKQ0KCWNzcCA9IGlucHV0KCdcbiBFTlRFUiBZRVMgT1IgTk8gOiAnKQ0KCQ0KCXNhaSA9IFtdDQoJaWYgY3NwIGluIFsneScsJ1knLCd5ZXMnLCdZZXMnLCcxJ106DQoJCXBzeCA9IGludChpbnB1dCgiIEVudGVyIFBhc3N3b3JkIExpbWl0OiAiKSkNCgkJZm9yIHNhIGluIHJhbmdlKHBzeCk6DQoJCQlwd3cgPSBpbnB1dChmIntzb30gRW50ZXIgUGFzc3dvcmQ6ICIpDQoJCQlzYWkuYXBwZW5kKHB3dykNCgllbHNlOg0KCQlwYXNzDQoJd2l0aCBUaHJlYWRQb29sKG1heF93b3JrZXJzPTMwKSBhcyBzYWltb246DQoJCXByaW50KGd5YykNCgkJY2xlYXIoKQ0KCQkNCgkJbG4gPSBzdHIobGVuKHVzZXIpKQ0KCQlwcmludCg1MConXycpDQoJCXByaW50KCdbz4BdIFRPVEFMIElEUzogJytsbikNCgkJcHJpbnQoJ1vPgF0gWU9VUiBTSU0gQ09ERSA6ICcrY29kKQ0KCQlwcmludCg1MConXycpDQoJCWZvciBuaG0gaW4gdXNlcjoNCgkJCXVpZCA9IGNvZCtuaG0NCgkJCXB3eCA9IFt1aWQsdWlkWzM6XSx1aWRbMDo2XSx1aWRbMDo3XSx1aWRbMDo4XV0NCgkJCWZvciBwc2MgaW4gc2FpOg0KCQkJCXB3eC5hcHBlbmQocHNjKQ0KCQkJc2FpbW9uLnN1Ym1pdChjLHVpZCxwd3gsbG4pDQoJcHJpbnQoNTAqJ18nKQ0KCXByaW50KCcgW8+AXSBDcmFjayBwcm9jZXNzIGhhcyBiZWVuIGNvbXBsZXRlZCcpDQoJcHJpbnQoNTAqJ18nKQ0KCWV4aXQoKQ0KDQpkZWYgcmFuZG9tX2hlYWRlcnMoKToNCiAgICBkZXZpY2VzID0gWyJpUGhvbmUiLCAiU2Ftc3VuZyIsICJOZXh1cyIsICJQaXhlbCIsICJpUGFkIiwgIlN1cmZhY2UiLCAiS2luZGxlIl0NCiAgICBicm93c2VycyA9IFsiU2FmYXJpIiwgIkNocm9tZSIsICJGaXJlZm94IiwgIk9wZXJhIiwgIkVkZ2UiLCAiSW50ZXJuZXQgRXhwbG9yZXIiXQ0KICAgIGRldmljZSA9IHJhbmRvbS5jaG9pY2UoZGV2aWNlcykNCiAgICBicm93c2VyID0gcmFuZG9tLmNob2ljZShicm93c2VycykNCiAgICBicm93c2VyX3ZlcnNpb24gPSBzdHIocmFuZG9tLnJhbmRpbnQoMSwyMCkpICsgIi4iICsgc3RyKHJhbmRvbS5yYW5kaW50KDAsMTApKQ0KICAgIHBsYXRmb3JtID0gcmFuZG9tLmNob2ljZShbIldpbmRvd3MiLCAiTWFjT1MiLCAiTGludXgiLCAiQW5kcm9pZCJdKQ0KICAgIHVzZXJfYWdlbnQgPSBmIk1vemlsbGEvNS4wICh7cGxhdGZvcm19OyB7ZGV2aWNlfTsgQ1BIe3JhbmRvbS5yYW5kaW50KDEwMDAsOTk5OSl9KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSB7YnJvd3Nlcn0ve2Jyb3dzZXJfdmVyc2lvbn0gTW9iaWxlIFNhZmFyaS81MzcuMzYiDQogICAgcmFuZG9tX2xldHRlcnMgPSAiIi5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmFzY2lpX2xldHRlcnMpIGZvciBpIGluIHJhbmdlKDEwKSkNCiAgICBoZWFkZXIgPSAgew0KICAgICAgICAnYXV0aG9yaXR5JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAnbWV0aG9kJzogJ0dFVCcsDQogICAgICAgICdzY2hlbWUnOiAnaHR0cHMnLA0KICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsDQogICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLA0KICAgICAgICAnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLA0KICAgICAgICAnc2VjLWNoLXVhJzogJyIoTm90KEE6QnJhbmQiO3Y9Ijk5IiwgIkNocm9taXVtIjt2PSIxMTEiLCAiR29vZ2xlIENocm9tZSI7dj0iMTExIicsDQogICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJywNCiAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICcibWFjT1MiJywNCiAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2RvY3VtZW50JywNCiAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ25hdmlnYXRlJywNCiAgICAgICAgJ3NlYy1mZXRjaC1zaXRlJzogJ25vbmUnLA0KICAgICAgICAnc2VjLWZldGNoLXVzZXInOiAnPzEnLA0KICAgICAgICAndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCiAgICAgICAgJ3VzZXItYWdlbnQnOiB1c2VyX2FnZW50DQogICAgfQ0KICAgIHJldHVybiBoZWFkZXINCg0KZGVmIHJhbmRvbV9oZWFkZXIoKToNCiAgICBkZXZpY2VzID0gWyJpUGhvbmUiLCAiU2Ftc3VuZyIsICJOZXh1cyIsICJQaXhlbCIsICJpUGFkIiwgIlN1cmZhY2UiLCAiS2luZGxlIl0NCiAgICBicm93c2VycyA9IFsiQ2hyb21pdW0iLCAiTm90PUE/QnJhbmQiXQ0KICAgIHBsYXRmb3JtcyA9IFsiQW5kcm9pZCIsICJXaW5kb3dzIiwgIk1hY09TIiwgIkxpbnV4Il0NCiAgICANCiAgICBoZWFkZXIgPSB7DQogICAgICAgICJhdXRob3JpdHkiOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsDQogICAgICAgICJtZXRob2QiOiAnUE9TVCcsDQogICAgICAgICJzY2hlbWUiOiAnaHR0cHMnLA0KICAgICAgICAiYWNjZXB0IjogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsDQogICAgICAgICJhY2NlcHQtZW5jb2RpbmciOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLA0KICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjogJ2VuLVVTLGVuO3E9MC45JywNCiAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywNCiAgICAgICAgIm9yaWdpbiI6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAicmVmZXJlciI6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vJywNCiAgICAgICAgInNlYy1jaC11YSI6IGYnIntyYW5kb20uY2hvaWNlKGJyb3dzZXJzKX0iO3Y9IntzdHIocmFuZG9tLnJhbmRpbnQoMSwyMCkpICsgIi4iICsgc3RyKHJhbmRvbS5yYW5kaW50KDAsMTApKX0iJywNCiAgICAgICAgInNlYy1jaC11YS1tb2JpbGUiOiAnPzEnLA0KICAgICAgICAic2VjLWNoLXVhLXBsYXRmb3JtIjogZicie3JhbmRvbS5jaG9pY2UocGxhdGZvcm1zKX0iJywNCiAgICAgICAgInNlYy1mZXRjaC1kZXN0IjogJ2RvY3VtZW50JywNCiAgICAgICAgInNlYy1mZXRjaC1tb2RlIjogJ25hdmlnYXRlJywNCiAgICAgICAgInNlYy1mZXRjaC1zaXRlIjogJ3NhbWUtb3JpZ2luJywNCiAgICAgICAgInNlYy1mZXRjaC11c2VyIjogJz8xJywNCiAgICAgICAgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAnMScsDQogICAgICAgICJ1c2VyLWFnZW50IjogZidNb3ppbGxhLzUuMCAoe3JhbmRvbS5jaG9pY2UocGxhdGZvcm1zKX0ge3JhbmRvbS5yYW5kaW50KDEsMjApfTsge3JhbmRvbS5jaG9pY2UoZGV2aWNlcyl9KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUve3N0cihyYW5kb20ucmFuZGludCgxLDIwKSkgKyAiLiIgKyBzdHIocmFuZG9tLnJhbmRpbnQoMCwxMCkpfSBNb2JpbGUgU2FmYXJpLzUzNy4zNicNCiAgICB9DQogICAgcmV0dXJuIGhlYWRlcg0KICAgIAkNCmRlZiByYW5kb21faGVhZGVycygpOg0KICAgIGRldmljZXMgPSBbImlQaG9uZSIsICJTYW1zdW5nIiwgIk5leHVzIiwgIlBpeGVsIiwgImlQYWQiLCAiU3VyZmFjZSIsICJLaW5kbGUiXQ0KICAgIGJyb3dzZXJzID0gWyJTYWZhcmkiLCAiQ2hyb21lIiwgIkZpcmVmb3giLCAiT3BlcmEiLCAiRWRnZSIsICJJbnRlcm5ldCBFeHBsb3JlciJdDQogICAgcGxhdGZvcm1zID0gWyJXaW5kb3dzIiwgIk1hY09TIiwgIkxpbnV4IiwgIkFuZHJvaWQiLCAiaU9TIl0NCg0KICAgIGRldmljZSA9IHJhbmRvbS5jaG9pY2UoZGV2aWNlcykNCiAgICBicm93c2VyID0gcmFuZG9tLmNob2ljZShicm93c2VycykNCiAgICBwbGF0Zm9ybSA9IHJhbmRvbS5jaG9pY2UocGxhdGZvcm1zKQ0KICAgIHZlcnNpb24gPSBzdHIocmFuZG9tLnJhbmRpbnQoMSwgMjApKSArICIuIiArIHN0cihyYW5kb20ucmFuZGludCgwLCAxMCkpDQogICAgc2VjX2NoX3VhID0gZicie2Jyb3dzZXJ9Ijt2PSJ7dmVyc2lvbn0iLCAiTm90PUE/QnJhbmQiO3Y9IntyYW5kb20ucmFuZGludCgxLDEwMCl9IicNCiAgICB1c2VyX2FnZW50ID0gZidNb3ppbGxhLzUuMCAoe3BsYXRmb3JtfTsgQW5kcm9pZCB7cmFuZG9tLnJhbmRpbnQoMSwxMil9OyB7ZGV2aWNlfSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykge2Jyb3dzZXJ9L3t2ZXJzaW9ufS4wLjAuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNicNCiAgICANCiAgICBoZWFkZXIgPSB7ICANCiAgICAgICAgICAgICAiYXV0aG9yaXR5IjogJ21iYXNpYy5mYWNlYm9vay5jb20nLA0KICAgICAgICAgICAgIm1ldGhvZCI6ICdHRVQnLA0KICAgICAgICAgICAgInNjaGVtZSI6ICdodHRwcycsDQogICAgICAgICAgICAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsDQogICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44JywNCiAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQogICAgICAgICAgICAnc2VjLWNoLXVhJzogJyJDaHJvbWl1bSI7dj0iMTA3IiwgIk5vdD1BP0JyYW5kIjt2PSIyNCInLA0KICAgICAgICAgICAgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLA0KICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLA0KICAgICAgICAgICAgJ3NlYy1mZXRjaC1kZXN0JzogJ2RvY3VtZW50JywNCiAgICAgICAgICAgICdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsDQogICAgICAgICAgICAnc2VjLWZldGNoLXNpdGUnOiAnbm9uZScsDQogICAgICAgICAgICAnc2VjLWZldGNoLXVzZXInOiAnPzEnLA0KICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsDQogICAgICAgICAgICAndXNlci1hZ2VudCc6IHVzZXJfYWdlbnQNCiAgICB9DQoNCg0KICAgIA0KICAgICAgICANCiAgICANCgkNCmRlZiBjKHVpZCxwd3gsbG4pOg0KICAgIGdsb2JhbCBsb29wDQogICAgZ2xvYmFsIGNwcyAgICANCiAgICBnbG9iYWwgb2tzDQogICAgZ2xvYmFsIGFnZW50cw0KICAgIHRyeToNCiAgICAgICAgZm9yIHBzIGluIHB3eDoNCiAgICAgICAgICAgIHNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgIHdhID0gcmFuZG9tLmNob2ljZShteV9jb2xvcikNCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidcciVzW0VNb24tQkhhaV0gWyVzLyVzXSBbT0stJXNdIFtDUC0lc10gXHInJSh3YSxsb29wLGxuLGxlbihva3MpLGxlbihjcHMpKSksDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHBybyA9IHJhbmRvbS5jaG9pY2UodWdlbikNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgI29vPXJhbmRvbS5jaG9pY2Uoc3NzKQ0KICAgICAgICAgICAgZnJlZV9mYiA9IHNlc3Npb24uZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKS50ZXh0DQogICAgICAgICAgICBsb2dfZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQogICAgICAgICAgICAiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICJtX3RzIjpyZS5zZWFyY2goJ25hbWU9Im1fdHMiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KICAgICAgICAgICAgImxpIjpyZS5zZWFyY2goJ25hbWU9ImxpIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICJ0cnlfbnVtYmVyIjoiMCIsDQogICAgICAgICAgICAidW5yZWNvZ25pemVkX3RyaWVzIjoiMCIsDQogICAgICAgICAgICAiZW1haWwiOnVpZCwNCiAgICAgICAgICAgICJwYXNzIjpwcywNCiAgICAgICAgICAgICJsb2dpbiI6IkxvZyBJbiJ9DQogICAgICAgICAgICBoZWFkZXJfZnJlZWZiID0gcmFuZG9tX2hlYWRlcigpDQogICAgICAgICAgICBsbyA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9yZWd1bGFyL2xvZ2luLz9yZWZzcmMnLGRhdGE9bG9nX2RhdGEsaGVhZGVycz1oZWFkZXJfZnJlZWZiKS50ZXh0DQogICAgICAgICAgICBsb2dfY29va2llcz1zZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCkNCiAgICAgICAgICAjICBsbyA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9yZWd1bGFyL2xvZ2luLz9yZWZzcmMnLGRhdGE9bG9nX2RhdGEsaGVhZGVycz1oZWFkZXJfZnJlZWZiKS50ZXh0DQogICAgICAgICAjICAgbG9nX2Nvb2tpZXM9c2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkua2V5cygpDQogICAgICAgICAgICBpZiAnY191c2VyJyBpbiBsb2dfY29va2llczoNCiAgICAgICAgICAgICMJYm90b2sodWlkLHBzKQ0KICAgICAgICAgICAgCWNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCiAgICAgICAgICAgIAljaWQgPSBjb2tpWzY1OjgwXQ0KICAgICAgICAgICAgCXByaW50KCdcMDMzWzE7OTJtTjNPQi1PS1vwn5iBXVwwMzNbMTs5Mm1dIFwwMzNbMTs5Mm0nICtjaWQrICcgfCAnICtwcysgICAgJyB8Pj4nK3RhaHVubmcoY2lkKSkNCiAgICAgICAgICAgIAlwcmludCgnXDAzM1sxOzkybVtcMDMzWzE7OTJt8J+NqlwwMzNbMTs5Mm1dQ09PS0lFUyA6IFwwMzNbMTs5Mm0nK2Nva2krICcnKQ0KICAgICAgICAgICAgCW9wZW4oJ0VNb24tT0sudHh0JywgJ2EnKS53cml0ZSggY2lkKycgfCAnK3BzKydcbicpDQogICAgICAgICAgICAJb3BlbignRU1vbi1jb2tpLnR4dCcsICdhJykud3JpdGUoY29raSsnXG4nKQ0KICAgICAgICAgICAgCWNla19hcGsoc2Vzc2lvbixjb2tpKQ0KICAgICAgICAgICAgCW9rcy5hcHBlbmQoY2lkKQ0KICAgICAgICAgICAgCWJyZWFrDQogICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiBsb2dfY29va2llczoNCiAgICAgICAgICAgIAkjYm90Y3AodWlkLHBzKQ0KICAgICAgICAgICAgCWNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCiAgICAgICAgICAgIAljaWQgPSBjb2tpWzgyOjk3XQ0KICAgICAgICAgICAgCXByaW50KCdcMzNbMTszMG0oRU1vbi1DcCBb8J+SlF0gJytjaWQrICcgfCAnICtwcysnICB8Pj4nK3RhaHVubmcoY2lkKSkNCiAgICAgICAgICAgIAkjcHJpbnQoJ1wwMzNbMTs5Mm1bXDAzM1sxOzkybcOwxbjCjcKqXDAzM1sxOzkybV1DT09LSUVTIDogXDAzM1sxOzkybScrY29raSsgJycpDQogICAgICAgICAgICAJb3BlbignRU1vbi1DUC50eHQnLCAnYScpLndyaXRlKCB1aWQrJyB8ICcrcHMrJyBcbicpDQogICAgICAgICAgICAJY3BzLmFwcGVuZChjaWQpDQogICAgICAgICAgICAJYnJlYWsNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAJI3ByaW50IChyYW5kb21faGVhZGVyKCkpDQogICAgICAgICAgICAJY29udGludWUNCiAgICAgICAgbG9vcCs9MQ0KICAgICAgICANCiAgICAgICAgI3N5cy5zdGRvdXQud3JpdGUoJ1xyJXMgICBbRU1vbi1CSGFpXSBcMDMzWzE7MzVtWyVzLyVzXSBcMDMzWzE7MzJtW09LLSVzXSBcMDMzWzE7MzRtW0NQLSVzXSBcciclKHdhLGxvb3AsdGwsbGVuKG9rcyksbGVuKGNwcykpKSwNCiAgICAgICAjIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgdGltZS5zbGVlcCgxMCkNCiAgICAgICAgcGFzcw0KICAgICAgICANCmRlZiBjcmFja19maWxlKCk6DQoJDQoJY2xlYXIoKQ0KCW8gPSBpbnB1dCgnXHgxYlsxOzk3bSBbz4BdIEZJTEUgTkFNRSA6ICcpDQoJcHJpbnQoJycpDQoJdHJ5OmxpbiA9IG9wZW4obykucmVhZCgpLnNwbGl0bGluZXMoKQ0KCWV4Y2VwdDoNCgkJcHJpbnQoJ0ZpbGUgTm90IEZvdW5kJykNCgkJdGltZS5zbGVlcCgyKQ0KCQltZW51KCkNCglmb3IgeGlkIGluIGxpbjoNCgkJaWQuYXBwZW5kKHhpZCkNCglzZXR0aW5nKCkNCg0KZGVmIHNldHRpbmcoKToNCglodSA9ICczJw0KCWlmIGh1IGluIFsnMScsJzAxJ106DQoJCWZvciB0dWEgaW4gc29ydGVkKGlkKToNCgkJCWlkMi5hcHBlbmQodHVhKQ0KCWVsaWYgaHUgaW4gWycyJywnMDInXToNCgkJbXVkYT1bXQ0KCQlmb3IgYmFjb3QgaW4gc29ydGVkKGlkKToNCgkJCW11ZGEuYXBwZW5kKGJhY290KQ0KCQliY209bGVuKG11ZGEpDQoJCWJjbWk9KGJjbS0xKQ0KCQlmb3IgeG11ZCBpbiByYW5nZShiY20pOg0KCQkJaWQyLmFwcGVuZChtdWRhW2JjbWldKQ0KCQkJYmNtaSAtPTENCgllbGlmIGh1IGluIFsnMycsJzAzJ106DQoJCWZvciBiYWNvdCBpbiBpZDoNCgkJCXh4ID0gcmFuZG9tLnJhbmRpbnQoMCxsZW4oaWQyKSkNCgkJCWlkMi5pbnNlcnQoeHgsYmFjb3QpDQoJZWxzZToNCgkJZm9yIGJhY290IGluIGlkOg0KCQkJeHggPSByYW5kb20ucmFuZGludCgwLGxlbihpZDIpKQ0KCQkJaWQyLmluc2VydCh4eCxiYWNvdCkNCiAgICANCgkNCglwYXNzd3JkKCkNCglleGl0KCkNCmRlZiBwYXNzd3JkKCk6DQoJDQoJY2xlYXIoKQ0KCXByaW50KCJceDFiXDAzM1szODs1OzE5Nm1VU0UgTU9CSUxFIERBVEFcMDMzWzE7MzdtIikNCglwcmludCgnXHgxYlwwMzNbMzg7NTsxOTZtVE9UQUwgSUR6IDogJytzdHIobGVuKGlkKSkpDQoJcHJpbnQoIlx4MWJcMDMzWzM4OzU7MTk2bVRVUk4gT04vT0ZGIEZMSUdIVCBNT0RFIElOIEVWRVJZIDUgTUlOIikNCglzYXdyb2pqKGYnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KCXdpdGggVGhyZWFkUG9vbChtYXhfd29ya2Vycz0zMCkgYXMgc2FpbW9uOg0KCQlmb3IgeXV6b25nIGluIGlkMjoNCgkJCWlkZixubWYgPSB5dXpvbmcuc3BsaXQoJ3wnKVswXSx5dXpvbmcuc3BsaXQoJ3wnKVsxXS5sb3dlcigpDQoJCQlmcnMgPSBubWYuc3BsaXQoJyAnKVswXQ0KCQkJcHd2ID0gW10NCgkJCWlmIGxlbihubWYpPDY6DQoJCQkJaWYgbGVuKGZycyk8MzoNCgkJCQkJcGFzcw0KCQkJCWVsc2U6DQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NScpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0JykNCgkJCQkJDQoJCQkJCQ0KCQkJZWxzZToNCgkJCQlpZiBsZW4oZnJzKTwzOg0KCQkJCQlwd3YuYXBwZW5kKG5tZikNCgkJCQllbHNlOg0KCQkJCQlwd3YuYXBwZW5kKG5tZikNCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMycpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0JykNCgkJCQkJcHd2LmFwcGVuZChmcnMrJ0AxMjMnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnQDEyMzQnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDUnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDU2JykNCgkJCQkJcHd2LmFwcGVuZChmcnMrJzc4NicpDQoJCQkJCQ0KCQkJCQkNCgkJCQlzYWltb24uc3VibWl0KGNyYWNrLGlkZixwd3YpDQoJcHJpbnQoJycpDQoJc2F3cm9qaignLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KCXNhd3JvamooJ0NMT05JTkcgQ09NUExFVEUgLi4uLi4uLi4uLiAnKQ0KCWlucHV0KCdDTElDSyBFTlRFUiBUTyBFWElUICcpDQogICAgDQoJDQoJDQpuYW0gPSAiRU1vbiINCm5hbWUgPSAiW0VNb24tT0tdIg0KbmFtZTEgPSAiW0VNb24tQ1BdIg0KCQ0KZGVmIGNyYWNrKGlkZixwd3YpOg0KCWdsb2JhbCBsb29wLG9rLGNwDQoJYm8gPSByYW5kb20uY2hvaWNlKFttLGssaCxiLHUseF0pDQoJc3lzLnN0ZG91dC53cml0ZShmIlxyIHtuYW19IHtQfXtsb29wfXtQfS97UH17bGVuKGlkKX17UH0gT0t7UH09e0h9e29rfXtQfSB7J3s6LjAlfScuZm9ybWF0KGxvb3AvZmxvYXQobGVuKGlkKSkpfXtQfSAiKSwNCglzeXMuc3Rkb3V0LmZsdXNoKCkNCgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikNCgl1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4pDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJZm9yIHB3IGluIHB3djoNCgkJdHJ5Og0KCQkJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkNCgkJCXByb3hzPSB7J2h0dHAnOiAnc29ja3M0Oi8vJytuaXB9DQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjonbS5mYWNlYm9vay5jb20nLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVhMiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tLyIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9KQ0KCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vcC5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3Bhc3N3b3JkLz91aWQ9JytpZGYrJyZmbG93PWxvZ2luX25vX3BpbiZyZWZzcmM9ZGVwcmVjYXRlZCZfcmRyJykNCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9DQoJCQlrb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gcC5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQ0KCQkJa29raSs9JyBtX3BpeGVsX3JhdGlvPTIuNjI1OyB3ZD00MTJ4NzU2Jw0KCQkJaGVhZGU9eyJIb3N0IjonbS5mYWNlYm9vay5jb20nLCJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJvcmlnaW4iOiJodHRwczovL20uZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6dWEsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tL2luZGV4LnBocD9uZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20lMkZ0b29scyUyRmRlYnVnJTJGYWNjZXNzdG9rZW4lMkYiLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifQ0KCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19yZWRpcmVjdHM9RmFsc2UscHJveGllcz1wcm94cykNCgkJCWlmICJjaGVja3BvaW50IiBpbiBwby5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KCQkJCXByaW50KGYnXHJceDFiWzM4OzU7MjA2bSB7bmFtZTF9IHtpZGZ9ICB7cHd9IHtOfScpICAgICANCgkJCQlvcGVuKCcvc2RjYXJkL0NQLycrY3BjLCdhJykud3JpdGUoaWRmKycgJytwdysnXG4nKQ0KCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpDQoJCQkJY3ArPTENCgkJCQlicmVhaw0KCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQlvays9MQ0KCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQoJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQ0KCQkJCXByaW50KGYnXHJ7SH0ge25hbWV9IHtpZGZ9ICB7cHd9JykNCgkJCQlvcGVuKCcvc2RjYXJkL09LLycrb2tjLCdhJykud3JpdGUoaWRmKycgJytwdysnXG4nKQ0KCQkJCWNla19hcGsoc2Vzc2lvbixjb2tpKQ0KCQkJCWJyZWFrDQoJCQkJDQoJCQllbHNlOg0KCQkJCWNvbnRpbnVlDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCXRpbWUuc2xlZXAoMzEpDQoJbG9vcCs9MQ0KDQpkZWYgdG9vbHNjb250cm9sKCk6DQoJYmxvID0gImh0dHBzOi8vYXBwcHBwYXBwcHBwcCINCglnciA9ICJhcHBwLmJsb2dzcG90LmNvbS8yMCINCglyciA9ICIyMy8wMi9nb3QuaHRtbCINCg0KCXYgPSAidXBkYXRlMTEiDQoJdnYgPSAibWVudTExIg0KCXZ2diA9ICJvZjExIg0KCXBlbyA9IHJlcXVlc3RzLmdldChmIntibG99e2dyfXtycn0iKS50ZXh0DQoJaWYgdiBpbiBwZW86DQoJCXVwZGF0ZSAoKQ0KCWVsaWYgdnYgaW4gcGVvOg0KCQltZW51KCkNCgllbGlmICJvZjExIiBpbiBwZW86DQoJCWNsZWFyKCkNCgkJamFsYW4gKCIgVEhJUyBUT09MUyBJUyBOT1QgV09SS0lORyBQTEVBU0UgV0FJVCBGT1IgTkVYVCBVUERBVEUiKQ0KCQl0aW1lLnNsZWVwKDEpDQoJCW9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL1RFUkdFVFlPVVJJRCcpDQoJCWV4aXQoKQ0KCWVsc2U6DQoJCWV4aXQoKQ0KDQpkZWYgdXBkYXRlKCk6DQogIA0KICBjbGVhcigpDQogIHByaW50ICgnIFwwMzNbMDs5M21QTEVBU0UgV0FJVCBGT1IgVVBEQVRFJykNCiAgdGltZS5zbGVlcCgyKQ0KICBwcmludCAoIlwwMzNbMTszMm0iKQ0KICBvcy5zeXN0ZW0oImdpdCBwdWxsIikNCiAgb3Muc3lzdGVtKCJnaXQgcHVsbCIpDQogIG9zLnN5c3RlbSgiZ2l0IHB1bGwiKQ0KICB0aW1lLnNsZWVwKDMpDQogIHByaW50ICgiIikNCiAgcHJpbnQgKCdcMDMzWzE7MzJtVVBEQVRFIFNVQ0NFU1NGVUwnKQ0KICB0aW1lLnNsZWVwKDIpDQogIG1lbnUoKQ0KaWYgX19uYW1lX189PSdfX21haW5fXyc6DQoJYXBwcm92YWwoKQ0KCXRyeTpvcy5zeXN0ZW0oJ3RvdWNoIC5wcm94LnR4dCcpDQoJZXhjZXB0OnBhc3MNCgl0b29sc2NvbnRyb2woKQ=="))